<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>color generator</title>
    <style>
      * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
      }
      body {
        background-color: gray;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
      }
      button {
        padding: 10px;
        cursor: pointer;
        border: 1px solid black;
        border-radius: none;
      }
      button:hover {
        background-color: rgb(218, 218, 218);
      }
      main {
        width: 100%;
        max-width: 400px;
        display: flex;
        flex-direction: column;
        gap: 10px 0;
      }
      #additional {
        display: flex;
        gap: 5px;
      }

      #current-color {
        padding: 10px 5px;
        color: white;
        text-shadow: 1px 1px black, 0px 0px 5px black;
      }
      #darker-color,
      #lighter-color {
        color: white;
        /* border: 1px solid black; */
        width: 200px;
        height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-shadow: 1px 1px black, 0px 0px 5px black;
      }
    </style>
  </head>
  <body>
    <main>
      <div id="current-color">Current color<br /><span id="current-color-data">?</span></div>
      <button id="generateButton">generate new color</button>
      <div id="additional">
        <div id="darker-color">color1</div>
        <div id="lighter-color">color2</div>
      </div>
    </main>
    <script>
      const currentColorDiv = document.getElementById('current-color-data');
      const darkerColorDiv = document.getElementById('darker-color');
      const lighterColorDiv = document.getElementById('lighter-color');
      const colorCodes = '0123456789ABCDEF';
      function generateColor() {
        const newColor =
          '#' +
          new Array(6)
            .fill('0')
            .map(() => colorCodes[Math.floor(Math.random() * colorCodes.length)])
            .join('');

        currentColorDiv.innerText = newColor;
        document.body.style.backgroundColor = newColor;

        const colorInHex = [
          parseInt(newColor.slice(1, 3), 16),
          parseInt(newColor.slice(3, 5), 16),
          parseInt(newColor.slice(5, 7), 16),
        ];

        const colorShift = 20;
        const lighterColor =
          '#' +
          colorInHex
            .map((col) =>
              Math.min(255, col + colorShift)
                .toString(16)
                .padStart(2, '0')
            )
            .join('')
            .toUpperCase();
        const darkerColor =
          '#' +
          colorInHex
            .map((col) =>
              Math.max(0, col - colorShift)
                .toString(16)
                .padStart(2, '0')
            )
            .join('')
            .toUpperCase();

        darkerColorDiv.innerText = darkerColor;
        darkerColorDiv.style.backgroundColor = darkerColor;
        lighterColorDiv.innerText = lighterColor;
        lighterColorDiv.style.backgroundColor = lighterColor;
      }
      generateColor();

      document
        .getElementById('generateButton')
        .addEventListener('click', () => console.log(generateColor()));
    </script>
  </body>
</html>
